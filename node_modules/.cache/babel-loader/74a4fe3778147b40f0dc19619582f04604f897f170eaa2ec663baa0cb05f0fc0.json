{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { mapState, mapActions } from 'vuex';\nexport default {\n  data() {\n    return {\n      form: {\n        cate: '',\n        pname: '',\n        pcontent: '',\n        img1: null,\n        img2: null,\n        img3: null\n      }\n    };\n  },\n  computed: {\n    ...mapState(['product'])\n  },\n  methods: {\n    ...mapActions(['fetchProduct', 'updateProduct']),\n    handleFileUpload(index, event) {\n      this.form[`img${index}`] = event.target.files[0];\n    },\n    submitForm() {\n      const formData = new FormData();\n      formData.append('cate', this.form.cate);\n      formData.append('pname', this.form.pname);\n      formData.append('pcontent', this.form.pcontent);\n      if (this.form.img1) formData.append('img1', this.form.img1);\n      if (this.form.img2) formData.append('img2', this.form.img2);\n      if (this.form.img3) formData.append('img3', this.form.img3);\n      this.updateProduct({\n        id: this.$route.params.id,\n        formData\n      }).then(() => {\n        this.$router.push({\n          name: 'ProductDetail',\n          params: {\n            id: this.product.pno\n          }\n        });\n      });\n    }\n  },\n  created() {\n    this.fetchProduct(this.$route.params.id).then(() => {\n      this.form = {\n        cate: this.product.cate,\n        pname: this.product.pname,\n        pcontent: this.product.pcontent\n      };\n    });\n  }\n};","map":{"version":3,"names":["mapState","mapActions","data","form","cate","pname","pcontent","img1","img2","img3","computed","methods","handleFileUpload","index","event","target","files","submitForm","formData","FormData","append","updateProduct","id","$route","params","then","$router","push","name","product","pno","created","fetchProduct"],"sources":["D:\\gitRepository\\sunglee0517\\vuejs_project01\\01_company_mvvm\\src\\views\\ProductUpdate.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <h1>제품 수정</h1>\r\n      <form @submit.prevent=\"submitForm\">\r\n        <div>\r\n          <label for=\"cate\">카테고리:</label>\r\n          <input type=\"text\" v-model=\"form.cate\" id=\"cate\" required />\r\n        </div>\r\n        <div>\r\n          <label for=\"pname\">제품명:</label>\r\n          <input type=\"text\" v-model=\"form.pname\" id=\"pname\" required />\r\n        </div>\r\n        <div>\r\n          <label for=\"pcontent\">내용:</label>\r\n          <textarea v-model=\"form.pcontent\" id=\"pcontent\" required></textarea>\r\n        </div>\r\n        <div>\r\n          <label for=\"img1\">이미지 1:</label>\r\n          <input type=\"file\" @change=\"handleFileUpload(1, $event)\" id=\"img1\" />\r\n        </div>\r\n        <div>\r\n          <label for=\"img2\">이미지 2:</label>\r\n          <input type=\"file\" @change=\"handleFileUpload(2, $event)\" id=\"img2\" />\r\n        </div>\r\n        <div>\r\n          <label for=\"img3\">이미지 3:</label>\r\n          <input type=\"file\" @change=\"handleFileUpload(3, $event)\" id=\"img3\" />\r\n        </div>\r\n        <button type=\"submit\">수정</button>\r\n      </form>\r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import { mapState, mapActions } from 'vuex';\r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n        form: {\r\n          cate: '',\r\n          pname: '',\r\n          pcontent: '',\r\n          img1: null,\r\n          img2: null,\r\n          img3: null,\r\n        },\r\n      };\r\n    },\r\n    computed: {\r\n      ...mapState(['product']),\r\n    },\r\n    methods: {\r\n      ...mapActions(['fetchProduct', 'updateProduct']),\r\n      handleFileUpload(index, event) {\r\n        this.form[`img${index}`] = event.target.files[0];\r\n      },\r\n      submitForm() {\r\n        const formData = new FormData();\r\n        formData.append('cate', this.form.cate);\r\n        formData.append('pname', this.form.pname);\r\n        formData.append('pcontent', this.form.pcontent);\r\n        if (this.form.img1) formData.append('img1', this.form.img1);\r\n        if (this.form.img2) formData.append('img2', this.form.img2);\r\n        if (this.form.img3) formData.append('img3', this.form.img3);\r\n  \r\n        this.updateProduct({ id: this.$route.params.id, formData }).then(() => {\r\n          this.$router.push({ name: 'ProductDetail', params: { id: this.product.pno } });\r\n        });\r\n      },\r\n    },\r\n    created() {\r\n      this.fetchProduct(this.$route.params.id).then(() => {\r\n        this.form = {\r\n          cate: this.product.cate,\r\n          pname: this.product.pname,\r\n          pcontent: this.product.pcontent,\r\n        };\r\n      });\r\n    },\r\n  };\r\n  </script>\r\n  "],"mappings":";AAkCE,SAASA,QAAQ,EAAEC,UAAS,QAAS,MAAM;AAE3C,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,IAAI,EAAE;QACJC,IAAI,EAAE,EAAE;QACRC,KAAK,EAAE,EAAE;QACTC,QAAQ,EAAE,EAAE;QACZC,IAAI,EAAE,IAAI;QACVC,IAAI,EAAE,IAAI;QACVC,IAAI,EAAE;MACR;IACF,CAAC;EACH,CAAC;EACDC,QAAQ,EAAE;IACR,GAAGV,QAAQ,CAAC,CAAC,SAAS,CAAC;EACzB,CAAC;EACDW,OAAO,EAAE;IACP,GAAGV,UAAU,CAAC,CAAC,cAAc,EAAE,eAAe,CAAC,CAAC;IAChDW,gBAAgBA,CAACC,KAAK,EAAEC,KAAK,EAAE;MAC7B,IAAI,CAACX,IAAI,CAAC,MAAMU,KAAK,EAAE,IAAIC,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAClD,CAAC;IACDC,UAAUA,CAAA,EAAG;MACX,MAAMC,QAAO,GAAI,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAACjB,IAAI,CAACC,IAAI,CAAC;MACvCc,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAE,IAAI,CAACjB,IAAI,CAACE,KAAK,CAAC;MACzCa,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAE,IAAI,CAACjB,IAAI,CAACG,QAAQ,CAAC;MAC/C,IAAI,IAAI,CAACH,IAAI,CAACI,IAAI,EAAEW,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAACjB,IAAI,CAACI,IAAI,CAAC;MAC3D,IAAI,IAAI,CAACJ,IAAI,CAACK,IAAI,EAAEU,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAACjB,IAAI,CAACK,IAAI,CAAC;MAC3D,IAAI,IAAI,CAACL,IAAI,CAACM,IAAI,EAAES,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAE,IAAI,CAACjB,IAAI,CAACM,IAAI,CAAC;MAE3D,IAAI,CAACY,aAAa,CAAC;QAAEC,EAAE,EAAE,IAAI,CAACC,MAAM,CAACC,MAAM,CAACF,EAAE;QAAEJ;MAAS,CAAC,CAAC,CAACO,IAAI,CAAC,MAAM;QACrE,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC;UAAEC,IAAI,EAAE,eAAe;UAAEJ,MAAM,EAAE;YAAEF,EAAE,EAAE,IAAI,CAACO,OAAO,CAACC;UAAI;QAAE,CAAC,CAAC;MAChF,CAAC,CAAC;IACJ;EACF,CAAC;EACDC,OAAOA,CAAA,EAAG;IACR,IAAI,CAACC,YAAY,CAAC,IAAI,CAACT,MAAM,CAACC,MAAM,CAACF,EAAE,CAAC,CAACG,IAAI,CAAC,MAAM;MAClD,IAAI,CAACtB,IAAG,GAAI;QACVC,IAAI,EAAE,IAAI,CAACyB,OAAO,CAACzB,IAAI;QACvBC,KAAK,EAAE,IAAI,CAACwB,OAAO,CAACxB,KAAK;QACzBC,QAAQ,EAAE,IAAI,CAACuB,OAAO,CAACvB;MACzB,CAAC;IACH,CAAC,CAAC;EACJ;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}